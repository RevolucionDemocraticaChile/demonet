<div class="container">
  <ol class="breadcrumb">
    <li > <%= link_to t(:groups).humanize, groups_path %> </li>
    <li class="active"> <%= t(:list).humanize %></li>
  </ol>

  <div class="row">
    <div class="col-lg-12">
      <div class="panel panel-default">
        <div class="panel-heading clearfix">
          <h4><%= t(:groups).humanize %></h4>
          <div class="pull-right">
            <% if can? :new, Group %>
              <%= link_to t(:new_group).humanize, new_group_path, class: "pull-right btn btn-primary btn-sm" %>
            <% end %>
          </div>
        </div>
        <div class="panel-body">
            <table id="datatable" class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th><%= t(:name).humanize %></th>
                  <th><%= t(:type).titleize %></th>
                  <th><%= t(:members).humanize %></th>
                  <th><%= t(:meetings).humanize %></th>
                </tr>
              </thead>

              <tbody>
                <% @groups.each do |group| %>
                  <tr>
                    <td><%= link_to group.name, group %></td>
                    <td><%= t(group.type.downcase.to_sym).titleize %></td>
                    <td class="text-center"><%= group.members.count %></td>
                    <td class="text-center"><%= group.meetings.count %></td>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
  $(function() {
    $('#datatable').DataTable({
      "sDom": '<"pull-left"T>frt<"widget-foot" <"info_table pull-left"i><"pagination pull-right"p><"clearfix">>',
      "tableTools": {
        "sRowSelect": "multi",
        "sSwfPath": "swf/copy_csv_xls.swf",
        "aButtons": [{
          "sExtends": "csv",
          "sButtonText": "Exportar Todo CSV",
        },
        ]},
        "oLanguage": {
          "sZeroRecords": "No se encontraron espacios",
          "sInfo": "Mostrando _START_ a _END_ espacios de un total de _TOTAL_ ",
          "sInfoEmpty": "Mostrando 0 a 0 espacios de un total de 0",
          "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
          "oPaginate": {
            "sNext": "Siguiente <span class='glyphicon glyphicon-chevron-right'></span>",
            "sPrevious": "<span class='glyphicon glyphicon-chevron-left'></span> Anterior",
          }
        }
    });

  });

</script>
